{"code":"module.exports=function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=450)}({0:function(e,t){e.exports=require(\"prop-types\")},1:function(e,t){e.exports=require(\"@splunk/react-ui/Themes\")},18:function(e,t){e.exports=require(\"@splunk/moment\")},19:function(e,t){e.exports=require(\"@splunk/react-ui/Popover\")},2:function(e,t){e.exports=require(\"react\")},21:function(e,t){e.exports=require(\"@splunk/react-ui/Text\")},3:function(e,t){e.exports=require(\"styled-components\")},4:function(e,t){e.exports=require(\"lodash\")},450:function(e,t,n){\"use strict\";n.r(t);var a=n(2),o=n.n(a),r=n(0),l=n.n(r),u=n(4),i=n(18),s=n.n(i),c=n(8),p=n(6),f=n(85),d=n.n(f),h=n(19),y=n.n(h),m=n(1),v=n(3),b=n(21),g=n.n(b),x=Object(v.css)([\"&[data-inline]{width:105px;flex-basis:105px;&[data-size='large']{width:130px;flex-basis:130px;}}\"]);Object(m.registerStyles)(\"Date\",\"enterprise.light\",{StyledText:{component:g.a,styles:x}});var O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},C=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var k=Object(m.getStyled)(\"Date\").StyledText,D=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);for(var a=arguments.length,o=Array(a>1?a-1:0),r=1;r<a;r++)o[r-1]=arguments[r];var l=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this,e].concat(o)));j.call(l),l.controlledExternally=Object(u.has)(e,\"value\");var i=l.isControlled()?e.value:e.defaultValue||s()().locale(e.locale).format(t.momentFormat),p=s()(i,t.momentFormat,e.locale);return l.state={value:l.isControlled()?null:i,displayDate:p,calendarOpen:!1,tempTextInputDate:null},l.popoverId=Object(c.createDOMID)(\"calender\"),l}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a[\"Component\"]),C(t,[{key:\"componentWillReceiveProps\",value:function(e){var n=s()(e.value,t.momentFormat,e.locale);this.isControlled()&&this.setState({displayDate:n})}},{key:\"getValue\",value:function(){return this.isControlled()?this.props.value:this.state.value}},{key:\"getTextInputValue\",value:function(){return null===this.state.tempTextInputDate?s()(this.getValue(),t.momentFormat,this.props.locale).format(\"l\"):this.state.tempTextInputDate}},{key:\"focus\",value:function(){this.state.anchor.focus()}},{key:\"isControlled\",value:function(){return this.controlledExternally}},{key:\"render\",value:function(){var e=this.getValue();return o.a.createElement(k,O({\"data-test\":\"date\",\"data-test-value\":e,\"data-test-popover-id\":this.popoverId,onChange:this.handleInputChange,onClick:this.handleClick,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,value:this.getTextInputValue(),innerRef:this.handleMount},Object(u.omit)(this.props,\"className\",\"defaultValue\",\"onClick\",\"onFocus\",\"onKeyDown\",\"locale\",\"onChange\",\"value\")),o.a.createElement(y.a,{anchor:this.state.anchor,id:this.popoverId,open:!this.props.disabled&&this.state.calendarOpen,onRequestClose:this.handleRequestClose},o.a.createElement(d.a,{value:e,locale:this.props.locale,onChange:this.handleDateChange})))}}]),t}();D.propTypes={defaultValue:l.a.string,describedBy:l.a.string,disabled:l.a.bool,elementRef:l.a.func,error:l.a.bool,labelledBy:l.a.string,locale:l.a.string,inline:l.a.bool,onBlur:l.a.func,onChange:l.a.func,onClick:l.a.func,onFocus:l.a.func,onKeyDown:l.a.func,size:l.a.oneOf([\"small\",\"medium\",\"large\"]),value:l.a.string},D.defaultProps={disabled:!1,error:!1,inline:!0,locale:\"en_US\",onBlur:function(){},onChange:function(){},onClick:function(){},onFocus:function(){},onKeyDown:function(){},size:\"medium\"},D.momentFormat=\"YYYY-MM-DD\";var j=function(){var e=this;this.applyTextChange=function(t){var n=s()(e.state.tempTextInputDate,\"l\",e.props.locale);n.isValid()?e.handleDateChange(t,{value:n.format(D.momentFormat),origin:\"textInput\"}):e.setState({tempTextInputDate:null,calendarOpen:!1})},this.handleDateChange=function(t,n){var a=n.value,o=n.origin,r=s()(a,D.momentFormat,e.props.locale);\"textInput\"!==o&&(e.focusCalledInternally=!0,e.focus()),e.getValue()!==a?(e.setState({value:e.isControlled()?null:a,displayDate:r,tempTextInputDate:null,calendarOpen:!1}),e.props.onChange(t,{value:a})):e.setState({calendarOpen:!1})},this.handleFocus=function(t){e.focusCalledInternally?e.focusCalledInternally=!1:e.setState({calendarOpen:!0}),e.props.onFocus(t)},this.handleClick=function(t){e.state.calendarOpen||e.setState({calendarOpen:!0}),e.props.onClick(t)},this.handleInputChange=function(t,n){var a=n.value;e.setState({tempTextInputDate:a,calendarOpen:!0})},this.handleKeyDown=function(t){\"enter\"===Object(p.keycode)(t)||\"tab\"===Object(p.keycode)(t)?e.applyTextChange():\"up\"!==Object(p.keycode)(t)&&\"down\"!==Object(p.keycode)(t)||e.state.calendarOpen?\"esc\"===Object(p.keycode)(t)&&(e.setState({tempTextInputDate:null,calendarOpen:!1}),e.focus()):e.setState({calendarOpen:!0}),e.props.onKeyDown(t)},this.handleMount=function(t){e.setState({anchor:t})},this.handleRequestClose=function(t){var n=t.event,a=t.reason;\"clickAway\"!==a&&\"escapeKey\"!==a||n.target===e.state.anchor.input||e.applyTextChange()}};t.default=D},6:function(e,t){e.exports=require(\"@splunk/ui-utils/keyboard\")},8:function(e,t){e.exports=require(\"@splunk/ui-utils/id\")},85:function(e,t){e.exports=require(\"@splunk/react-ui/Calendar\")}});","extractedComments":[]}