{"code":"module.exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=406)}({0:function(e,t){e.exports=require(\"prop-types\")},1:function(e,t){e.exports=require(\"@splunk/react-ui/Themes\")},10:function(e,t){e.exports=require(\"tinycolor2\")},14:function(e,t){e.exports=require(\"react-event-listener\")},2:function(e,t){e.exports=require(\"react\")},3:function(e,t){e.exports=require(\"styled-components\")},4:function(e,t){e.exports=require(\"lodash\")},406:function(e,t,n){\"use strict\";n.r(t);var o=n(2),r=n.n(o),a=n(0),i=n.n(a),l=n(4),s=n(14),c=n.n(s),u=n(1),p=n(3),d=n(9),f=n.n(d),h=Object(p.css)([\"display:block;width:100%;cursor:pointer;position:relative;padding:6px \",\";line-height:\",\";border-radius:0;color:\",\";*:not(:first-child) > &[data-position='inner']{border-top:2px solid \",\";}*:not(:last-child) > &[data-position='inner']{border-bottom:2px solid \",\";}& + &:not([data-position='inner']){border-top:2px solid \",\";}&:focus:not([disabled]){box-shadow:\",\";}&:not([data-status]){background-color:\",\";&:hover:not([disabled]){background-color:\",\";}}&[data-status='disabled']{background-color:\",\";}&[data-status='error']{background-color:\",\";color:\",\";&:hover:not([disabled]){background-color:\",\";}}&[data-status='warning']{background-color:\",\";color:\",\";&:hover:not([disabled]){background-color:\",\";box-shadow:none;}}\"],u.variables.spacing,u.variables.lineHeight,u.variables.textColor,u.variables.backgroundColor,u.variables.backgroundColor,u.variables.backgroundColor,u.variables.focusShadowInset,Object(u.lightOrDark)(u.variables.gray96,u.variables.gray45),Object(u.lightOrDark)(u.variables.gray92,u.variables.gray30),Object(u.lightOrDark)(u.variables.gray96,u.variables.gray80),u.variables.errorColor,u.variables.white,u.variables.errorColorD10,u.variables.warningColor,u.variables.white,u.variables.warningColorD10),b=Object(p.css)([\"display:flex;justify-content:space-between;\"]),g=Object(p.css)([\"font-size:\",\";\"],u.variables.fontSizeSmall);Object(u.registerStyles)(\"Concertina.Heading\",\"enterprise.light\",{StyledClickable:{component:f.a,styles:h},StyledHeadingContent:{component:\"span\",styles:b},StyledDescription:{component:\"span\",styles:g}});var y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},m=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function v(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var O=Object(u.getStyled)(\"Concertina.Heading\"),k=O.StyledClickable,j=O.StyledHeadingContent,C=O.StyledDescription,S=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o.handleClick=function(e){o.props.onClick(e,{index:o.props.index,panelId:o.props.panelId,position:o.props.position})},o.handleMount=function(e){o.container=e},v(o,n)}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o[\"Component\"]),m(t,[{key:\"focus\",value:function(){this.container.focus()}},{key:\"render\",value:function(){var e=this.props,n=e.children,o=e.description,a=e.panelId,i=e.position,s=e.status;return r.a.createElement(k,y({\"data-status\":\"normal\"===s?null:s,disabled:\"disabled\"===s,\"data-position\":i,onClick:this.handleClick,innerRef:this.handleMount,\"data-test\":\"heading\",\"data-test-panel-id\":a},Object(l.omit)(this.props,Object(l.keys)(t.propTypes))),r.a.createElement(j,null,r.a.createElement(\"span\",{\"data-concertina-role\":\"title\"},n),o&&r.a.createElement(C,{\"data-concertina-role\":\"description\"},o)))}}]),t}();S.propTypes={children:i.a.string.isRequired,description:i.a.string,index:i.a.number.isRequired,onClick:i.a.func.isRequired,panelId:i.a.string.isRequired,position:i.a.oneOf([\"top\",\"inner\",\"bottom\"]),status:i.a.oneOf([\"normal\",\"warning\",\"error\",\"disabled\"])},S.defaultProps={position:\"inner\"};var w=S,x=n(10),E=n.n(x),P=n(7),H=n.n(P),T=n(47),_=n.n(T),R=Object(u.transformVariable)(\"warningColor\",function(e){return E()(e).setAlpha(.5).toRgbString()}),I=Object(u.transformVariable)(\"errorColor\",function(e){return E()(e).setAlpha(.5).toRgbString()}),q=Object(p.css)([\"position:absolute;left:0;top:0;right:0;bottom:0;\"]),M=Object(p.css)([\"\",\";overflow:hidden;\"],q),B=Object(p.css)([\"position:absolute;left:0;top:0;right:0;z-index:1;background-color:\",\";&::after{content:'';position:absolute;bottom:-10px;height:10px;left:0;right:0;background-image:linear-gradient(180deg,rgba(0,0,0,0.15),rgba(0,0,0,0));}\"],u.variables.backgroundColor),D=Object(p.css)([\"position:absolute;left:0;bottom:0;right:0;background-color:\",\";&::before{content:'';position:absolute;top:-5px;height:5px;left:0;right:0;background-image:linear-gradient(0deg,rgba(0,0,0,0.15),rgba(0,0,0,0));}\"],u.variables.backgroundColor),W=Object(p.css)([\":not([data-status]) > &{background-color:\",\";}[data-status='error'] > &{background-color:\",\";}[data-status='warning'] > &{background-color:\",\";}[data-status='disabled'] > &{display:none;}\"],u.variables.backgroundColor,Object(u.lightOrDark)(u.variables.errorColorL50,I),Object(u.lightOrDark)(u.variables.warningColorL50,R));Object(u.registerStyles)(\"Concertina\",\"enterprise.light\",{StyledBox:{component:H.a,styles:M},StyledScroll:{component:_.a,styles:q},StyledTop:{component:\"div\",styles:B},StyledBottom:{component:\"div\",styles:D}}),Object(u.registerStyles)(\"Concertina.Panel\",\"enterprise.light\",{StyledPanelBody:{component:\"div\",styles:W}});var z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},A=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var U=Object(u.getStyled)(\"Concertina.Panel\").StyledPanelBody,V=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);for(var o=arguments.length,r=Array(o>1?o-1:0),a=1;a<o;a++)r[a-1]=arguments[a];var i=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this,e].concat(r)));return i.measureHeight=function(e){if(i.delayUpdate(),i.state.containerEl){var t=i.state.containerEl.clientHeight;if(t!==i.lastHeight){var n={panelId:i.props.panelId,index:i.props.index,height:i.state.containerEl.offsetHeight,headingHeight:i.state.containerEl.offsetHeight-i.state.bodyEl.offsetHeight};i.lastHeight=t,i.props.onChange(e,n)}}},i.handleMount=function(e){i.setState({containerEl:e}),i.props.elementRef(e)},i.handleHeadingMount=function(e){i.setState({heading:e})},i.handleBodyMount=function(e){i.setState({bodyEl:e})},i.state={},i}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o[\"Component\"]),A(t,[{key:\"componentDidUpdate\",value:function(e,t){this.props.children===e.children&&t.containerEl||this.measureHeight()}},{key:\"componentWillUnmount\",value:function(){clearTimeout(this.timer)}},{key:\"delayUpdate\",value:function(){this.timer&&clearTimeout(this.timer),this.timer=Object(l.delay)(this.measureHeight,300)}},{key:\"focus\",value:function(){this.state.heading.focus()}},{key:\"render\",value:function(){var e=this.props,n=e.children,o=e.description,a=(e.elementRef,e.index),i=e.onHeadingClick,s=(e.onChange,e.panelId),u=e.status,p=e.style,d=e.title;return r.a.createElement(\"div\",z({ref:this.handleMount,\"data-status\":u,\"data-test\":\"panel\",\"data-test-panel-id\":s},Object(l.omit)(this.props,Object(l.keys)(t.propTypes))),r.a.createElement(w,{onClick:i,ref:this.handleHeadingMount,description:o,index:a,panelId:s,position:\"inner\",status:u},d),r.a.createElement(c.a,{target:window,onResize:this.measureHeight}),r.a.createElement(U,{\"data-test\":\"body\",style:p,innerRef:this.handleBodyMount},n))}}]),t}();V.propTypes={children:i.a.node,description:i.a.node,elementRef:i.a.func,index:i.a.number,onHeadingClick:i.a.func,onChange:i.a.func,panelId:i.a.string,style:i.a.object,status:i.a.oneOf([\"normal\",\"warning\",\"error\",\"disabled\"]),title:i.a.node.isRequired},V.defaultProps={elementRef:function(){},onHeadingClick:function(){},onChange:function(){},status:\"normal\"};var L=V;n.d(t,\"Panel\",function(){return L});var F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},G=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var J=Object(u.getStyled)(\"Concertina\"),K=J.StyledBox,N=J.StyledScroll,Q=J.StyledTop,X=J.StyledBottom,Y=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);for(var o=arguments.length,r=Array(o>1?o-1:0),a=1;a<o;a++)r[a-1]=arguments[a];var i=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this,e].concat(r)));return i.handleUpdate=function(e,t){i.panelPositions[t.index]=t;var n=0;i.panelPositions.forEach(function(e){e.offsetTop=n,n+=e.height||0}),i.updateHeadings()},i.handleElementMount=function(e){i.setState({scrollEl:e}),e&&i.setState({innerWidth:e.clientWidth})},i.handleResize=function(){i.setState({innerWidth:i.state.scrollEl.clientWidth})},i.handleScroll=function(){i.updateHeadings()},i.handleScrollComplete=function(){i.setState({targetTop:void 0})},i.handleClick=function(e,t){var n=t.index,o=t.position,r=i.state.scrollEl,a=Object(l.take)(i.panelPositions,n).map(function(e){return e.headingHeight}).reduce(function(e,t){return e+t},0),s=Object(l.takeRight)(i.panelPositions,i.panelPositions.length-n-1).map(function(e){return e.headingHeight}).reduce(function(e,t){return e+t},0),c=r.clientHeight-a-s,u=i.panelPositions[n].height,p=i.panelPositions[n].offsetTop-a,d=p-(c-u),f=c>u&&(\"bottom\"===o||\"inner\"===o);if(!(f&&d<r.scrollTop)){var h=f?d:p;\"inner\"!==o&&e.currentTarget.blur(),i.setState({targetTop:h})}},i.updateHeadings=function(){if(i.state.scrollEl){var e=i.state.scrollEl,t=e.scrollTop,n=t+e.clientHeight;i.setState({panelsTopCount:i.panelPositions.reduce(function(e,n){return n.offsetTop<t?(t+=n.headingHeight,e+1):e},0),panelsBottomCount:i.panelPositions.reduceRight(function(e,t){return t.offsetTop+t.headingHeight>n?(n-=t.headingHeight,e+1):e},0)})}},i.state={panelsTopCount:0,panelsBottomCount:0,scrollTop:0,innerWidth:\"100%\"},i.panelPositions=[],i.updateHeadings=Object(l.debounce)(i.updateHeadings,0),i}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o[\"Component\"]),G(t,[{key:\"componentWillUnmount\",value:function(){this.updateHeadings.cancel()}},{key:\"renderHeadings\",value:function(e,t){var n=this;return o.Children.toArray(e).map(function(e){return r.a.createElement(w,{onClick:n.handleClick,description:e.props.description,panelId:e.props.panelId,index:e.props.index,position:t,status:e.props.status,key:e.props.panelId,tabIndex:-1},e.props.title)})}},{key:\"render\",value:function(){var e=this,t=this.props,n=t.children,a=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(t,[\"children\"]),i=o.Children.toArray(n).filter(o.isValidElement).map(function(t,n){return Object(o.cloneElement)(t,{panelId:t.props.panelId||\"\"+n,index:n,onHeadingClick:e.handleClick,onChange:e.handleUpdate})}),s=Object(l.take)(i,this.state.panelsTopCount),u=Object(l.takeRight)(i,this.state.panelsBottomCount);return r.a.createElement(K,F({\"data-test\":\"concertina\"},a),r.a.createElement(c.a,{target:\"window\",onResize:this.handleResize}),this.state.panelsTopCount>0&&r.a.createElement(Q,{style:{width:this.state.innerWidth},\"data-test\":\"dock-top\"},this.renderHeadings(s,\"top\")),r.a.createElement(N,{onScroll:this.handleScroll,stopScrollPropagation:!0,key:\"scroll-container\",elementRef:this.handleElementMount,\"data-test\":\"scroll\",top:this.state.targetTop,onScrollComplete:this.handleScrollComplete},i),this.state.panelsBottomCount>0&&r.a.createElement(X,{style:{width:this.state.innerWidth},\"data-test\":\"dock-bottom\"},this.renderHeadings(u,\"bottom\")))}}]),t}();Y.propTypes={children:i.a.node,elementRef:i.a.func},Y.Panel=L;t.default=Y},47:function(e,t){e.exports=require(\"@splunk/react-ui/Scroll\")},7:function(e,t){e.exports=require(\"@splunk/react-ui/Box\")},9:function(e,t){e.exports=require(\"@splunk/react-ui/Clickable\")}});","extractedComments":[]}