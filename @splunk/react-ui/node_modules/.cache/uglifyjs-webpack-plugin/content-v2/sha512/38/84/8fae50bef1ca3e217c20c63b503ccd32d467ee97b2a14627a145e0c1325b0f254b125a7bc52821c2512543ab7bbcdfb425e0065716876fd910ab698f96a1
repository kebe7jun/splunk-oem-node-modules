{"code":"module.exports=function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,\"a\",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p=\"\",o(o.s=415)}({0:function(e,t){e.exports=require(\"prop-types\")},1:function(e,t){e.exports=require(\"@splunk/react-ui/Themes\")},10:function(e,t){e.exports=require(\"tinycolor2\")},11:function(e,t){e.exports=require(\"react-motion\")},14:function(e,t){e.exports=require(\"react-event-listener\")},2:function(e,t){e.exports=require(\"react\")},22:function(e,t){e.exports=require(\"@splunk/ui-utils/focus\")},3:function(e,t){e.exports=require(\"styled-components\")},37:function(e,t){e.exports=require(\"@splunk/react-ui/RenderToLayer\")},38:function(e,t){e.exports=require(\"react-dom\")},4:function(e,t){e.exports=require(\"lodash\")},415:function(e,t,o){\"use strict\";o.r(t);var n=o(2),r=o.n(n),i=o(0),a=o.n(i),l=o(38),s=o(14),c=o.n(s),p=o(11),f=o(4),u=o(22),h=o(37),d=o.n(h),b=o(1),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e};var y=o(3),g=o(10),v=o.n(g),w=Object(y.css)([\"position:fixed;z-index:\",\";left:-300%;top:-300%;\"],b.variables.zindexPopover),x=Object(y.css)([\"\",\";padding:\",\";\"],b.mixins.reset(\"block\"),\"8px\"),O=Object(y.css)([\"\",\";background-color:transparent;\"],b.mixins.reset(\"block\")),C=Object(b.transformVariable)(\"gray20\",function(e){return v()(e).setAlpha(.1).toRgbString()}),S=Object(y.css)([\"\",\";background-color:\",\";color:\",\";border:\",\";box-shadow:0 2px 2px \",\";border-radius:\",\";\"],O,b.variables.backgroundColor,b.variables.textColor,b.variables.border,C,b.variables.borderRadius),j=Object(y.css)([\"\",\";background-color:\",\";color:\",\";\"],O,b.variables.gray20,b.variables.white),P=Object(y.css)([\"width:0;height:0;border-left:\",\" solid transparent;border-right:\",\" solid transparent;position:absolute;border-bottom:\",\" solid \",\";@media all and (-ms-high-contrast:none){opacity:inherit;}\"],\"8px\",\"8px\",\"8px\",b.variables.borderColor),k=Object(y.css)([\"\",\";&::before{content:'';display:block;width:0;height:0;border-left:\",\" solid transparent;border-right:\",\" solid transparent;border-bottom:\",\" solid \",\";position:absolute;top:1px;left:0;margin-left:-\",\";}\"],P,\"8px\",\"8px\",\"8px\",b.variables.backgroundColor,\"8px\"),E=Object(y.css)([\"\",\";border-bottom-color:\",\";\"],P,b.variables.gray20),R=Object(y.css)([\"position:fixed;right:0;bottom:0;\"]),W=Object(y.css)([\"\",\";border:\",\";box-shadow:0 1px 2px \",\";\"],S,b.variables.borderDark,b.variables.black),M=Object(y.css)([\"\",\";border-bottom:\",\" solid \",\";\"],k,\"8px\",b.variables.borderDarkColor),H=Object(y.css)([\"\",\";background-color:\",\";color:\",\";\"],j,b.variables.white,b.variables.gray20),q=Object(y.css)([\"\",\";border-bottom-color:\",\";\"],E,b.variables.white);Object(b.registerStyles)(\"Popover\",\"enterprise.light\",{Styled:{component:\"div\",styles:w},StyledBoxWrapper:{component:\"div\",styles:x},StyledBox:{component:\"div\",styles:O},StyledLight:{component:\"div\",styles:S},StyledDark:{component:\"div\",styles:j},StyledLightArrow:{component:\"div\",styles:k},StyledDarkArrow:{component:\"div\",styles:E},StyledLowerRightCorner:{component:\"div\",styles:R}}),Object(b.registerStyles)(\"Popover\",\"enterprise.dark\",{StyledLight:{component:\"div\",styles:W},StyledDark:{component:\"div\",styles:H},StyledLightArrow:{component:\"div\",styles:M},StyledDarkArrow:{component:\"div\",styles:q}});var A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},T=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();var L=Object(b.getStyled)(\"Popover\"),_=L.Styled,D=L.StyledBoxWrapper,F=L.StyledBox,z=L.StyledLight,B=L.StyledDark,N=L.StyledLightArrow,I=L.StyledDarkArrow,K=L.StyledLowerRightCorner;function U(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return!!e&&!!t&&Object(f.every)(e,function(e,n){return Object(f.isFinite)(e)?Math.abs(t[n]-e)<=o:t[n]===e})}var X=function(e){function t(e){var o;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(o=t.__proto__||Object.getPrototypeOf(t)).call.apply(o,[this,e].concat(r)));return V.call(a),a.handleScroll=Object(f.throttle)(a.setPlacement.bind(a,!0),0),a.setPlacement=Object(f.throttle)(a.setPlacement,0,{leading:!1}),a.state={animating:!1,anchorEl:null},a}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n[\"Component\"]),T(t,null,[{key:\"getArrowStyle\",value:function(e){var t=e.anchorPos,o=e.placement,n=e.outerContainerStyle,r=e.outerContainerEl;if(\"misaligned\"===o)return{display:\"none\"};var i={top:null,right:null,bottom:null,left:null,display:\"block\"},a=r.offsetHeight/2-22,l=-(r.offsetHeight/2-15),s=t.center-(n.top+r.offsetHeight/2)-4,c=Object(f.clamp)(s,l,a),p=t.middle-(n.left+r.offsetWidth/2)-8,u={left:\"translate(4px, \"+c+\"px) rotate(90deg)\",right:\"translate(-4px, \"+c+\"px) rotate(-90deg)\",above:\"translateX(\"+p+\"px) rotate(180deg)\",below:\"translateX(\"+p+\"px) rotate(0)\"};i.transform=u[o];i[{left:\"right\",right:\"left\",above:\"bottom\",below:\"top\"}[o]]=\"1px\";return i[{left:\"top\",right:\"top\",above:\"left\",below:\"left\"}[o]]=\"50%\",i}}]),T(t,[{key:\"componentDidMount\",value:function(){this.handleNewAnchor(this.props.anchor)}},{key:\"componentWillReceiveProps\",value:function(e){this.props.open!==e.open&&this.setState({animating:e.animation}),this.props.anchor!==e.anchor&&this.handleNewAnchor(e.anchor)}},{key:\"componentDidUpdate\",value:function(e){this.innerContainerEl&&(this.props.open||this.state.animating)&&(this.setPlacement(),!e.open&&this.props.takeFocus&&Object(u.takeFocus)(this.innerContainerEl))}},{key:\"componentWillUnmount\",value:function(){this.setPlacement.cancel(),this.handleScroll.cancel(),clearTimeout(this.timeout)}},{key:\"autoCloseWhenOffScreen\",value:function(e,t){return e.top<0||e.top>window.innerHeight||e.left<0||e.left>window.innerWidth?(this.requestClose({reason:\"offScreen\"}),!0):!(!t||!(e.height+e.top<t.top||e.top>t.bottom||e.width+e.left<t.left||e.left>t.right))&&(this.requestClose({reason:\"offScreen\"}),!0)}},{key:\"requestClose\",value:function(e){Object(f.includes)(this.props.closeReasons,e.reason)&&this.props.onRequestClose(e)}},{key:\"render\",value:function(){var e=this;return[r.a.createElement(c.a,{target:this.props.scrollContainer||\"window\",onScroll:this.handleScroll,onResize:this.setPlacement,key:\"eventListener\"}),r.a.createElement(d.a,{closeReasons:Object(f.intersection)(this.props.closeReasons,d.a.possibleCloseReasons),ref:function(t){return e.layer=t},open:this.props.open||this.state.animating,onRequestClose:this.handleRequestClose,render:this.renderLayer,key:\"renderToLayer\"})]}}]),t}();X.possibleCloseReasons=[\"clickAway\",\"escapeKey\",\"offScreen\"],X.propTypes={anchor:function(e){for(var t=arguments.length,o=Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];var r;if(e.open)return(r=a.a.object).isRequired.apply(r,[e].concat(o))},pointTo:a.a.shape({x:a.a.number,y:a.a.number}),animation:a.a.bool,appearance:a.a.oneOf([\"light\",\"dark\",\"none\"]),autoCloseWhenOffScreen:a.a.bool,canCoverAnchor:a.a.bool,children:a.a.oneOfType([a.a.node,a.a.func]),closeReasons:a.a.arrayOf(a.a.oneOf(X.possibleCloseReasons)),defaultPlacement:a.a.oneOf([\"above\",\"below\",\"left\",\"right\",\"vertical\",\"horizontal\"]),id:a.a.string,onRequestClose:a.a.func,open:a.a.bool,repositionMode:a.a.oneOf([\"none\",\"flip\",\"any\"]),retainFocus:a.a.bool,scrollContainer:a.a.oneOfType([a.a.object,a.a.string]),takeFocus:a.a.bool},X.defaultProps={animation:!0,appearance:\"light\",autoCloseWhenOffScreen:!0,canCoverAnchor:!1,closeReasons:X.possibleCloseReasons,defaultPlacement:\"below\",onRequestClose:function(){},open:!1,repositionMode:\"flip\",retainFocus:!0,scrollContainer:\"window\",takeFocus:!1};var V=function(){var e=this;this.getElPosition=function(t){var o=t.getBoundingClientRect(),n={top:o.top,left:o.left,width:t.offsetWidth,height:t.offsetHeight},r=e.props.pointTo;return n.right=o.right||n.left+n.width,n.bottom=o.bottom||n.top+n.height,n.middle=r&&Object(f.has)(r,\"x\")?n.left+r.x:n.left+(n.right-n.left)/2,n.center=r&&Object(f.has)(r,\"y\")?n.top+r.y:n.top+(n.bottom-n.top)/2,n},this.setPlacement=function(t){if(e.props.open&&e.outerContainer&&e.props.anchor){var o=e.props,n=o.autoCloseWhenOffScreen,r=o.canCoverAnchor,i=o.defaultPlacement,a=o.repositionMode,s=o.scrollContainer,c=Object(l.findDOMNode)(e.outerContainer),p=e.getElPosition(e.state.anchorEl),f=\"window\"!==s&&e.getElPosition(s);if(!(t&&n&&e.autoCloseWhenOffScreen(p,f))){var u=function e(t){var o=t.anchorPos,n=t.scrollContainerPos,r=t.canCoverAnchor,i=t.defaultPlacement,a=t.outerContainerEl,l=t.repositionMode,s=t.windowHeight,c=t.windowWidth,p=\"any\"===l,f=\"flip\"===l||p,u=t.placement||i;\"vertical\"===i?u=o.top>s-o.bottom?\"above\":\"below\":\"horizontal\"===i&&(u=o.left>c-o.right?\"left\":\"right\");var h=function(e){var t=e.anchorPos,o=e.placement,n=e.outerContainerEl;switch(o){case\"above\":return{top:t.top-n.offsetHeight,left:t.middle-n.offsetWidth/2};case\"below\":return{top:t.bottom,left:t.middle-n.offsetWidth/2};case\"left\":return{top:t.center-n.offsetHeight/2,left:t.left-n.offsetWidth};case\"right\":return{top:t.center-n.offsetHeight/2,left:t.right};default:return{}}}({anchorPos:o,outerContainerEl:a,placement:u}),d=h.top,b=h.left,y=\"auto\",g=c,v=s,w=o.top-a.offsetHeight>0,x=o.bottom+a.offsetHeight<s,O=o.left-a.offsetWidth>0,C=o.right+a.offsetWidth<c,S=o.middle+a.offsetWidth/2>c,j=o.middle-a.offsetWidth/2<0,P=o.top-a.offsetHeight/2<0,k=o.bottom+a.offsetHeight/2>s;if(\"above\"===u){if(!w&&f){if(x)return e(m({},t,{placement:\"below\"}));if(p&&C)return e(m({},t,{placement:\"right\"}));if(p&&O)return e(m({},t,{placement:\"left\"}));r&&(u=\"misaligned\",d=0)}\"misaligned\"!==u&&(y=s-d-a.offsetHeight,n&&(y=Math.min(y,s-n.top)),d=\"auto\"),S?b=Math.max(c-a.offsetWidth,0):j&&(b=0),r||(v=o.top)}if(\"below\"===u){if(!x&&f){if(w)return e(m({},t,{placement:\"above\"}));if(p&&C)return e(m({},t,{placement:\"right\"}));if(p&&O)return e(m({},t,{placement:\"left\"}));r&&(u=\"misaligned\",d=0)}n&&(d=Math.min(d,n.bottom)),S?b=Math.max(c-a.offsetWidth,0):j&&(b=0),r||(v=s-o.bottom)}if(\"left\"===u){if(!O&&f){if(C)return e(m({},t,{placement:\"right\"}));if(p&&x)return e(m({},t,{placement:\"below\"}));if(p&&w)return e(m({},t,{placement:\"above\"}));r&&(u=\"misaligned\",d=0)}P?d=0:k&&(d=Math.max(s-a.offsetHeight,0)),r||(g=o.left)}if(\"right\"===u){if(!C&&f){if(O)return e(m({},t,{placement:\"left\"}));if(p&&x)return e(m({},t,{placement:\"below\"}));if(p&&w)return e(m({},t,{placement:\"above\"}));r&&(u=\"misaligned\",d=0)}P?d=0:k&&(d=Math.max(s-a.offsetHeight,0)),r||(g=c-o.left)}return{placement:u,maxHeight:v,maxWidth:g,outerContainerStyle:{top:d,left:b,bottom:y}}}({anchorPos:p,scrollContainerPos:f,canCoverAnchor:r,defaultPlacement:i,repositionMode:a,outerContainerEl:c,windowWidth:e.windowSizeMeasurementEl.offsetLeft,windowHeight:e.windowSizeMeasurementEl.offsetTop}),h=u.placement,d=u.outerContainerStyle,b=u.maxHeight,y=u.maxWidth,g=e.arrow&&X.getArrowStyle({anchorPos:p,outerContainerStyle:d,placement:h,outerContainerEl:c});U(p,e.state.anchorPos)&&U(d,e.state.outerContainerStyle)&&U(g,e.state.arrowStyle)&&h===e.state.placement&&b===e.state.maxHeight&&y===e.state.maxWidth||e.setState({anchorPos:p,arrowStyle:g,outerContainerStyle:d,placement:h,maxHeight:b,maxWidth:y})}}},this.handleNewAnchor=function(t){var o=t?Object(l.findDOMNode)(t):null,n=o?e.getElPosition(o):null;e.setState({anchorEl:o,anchorPos:n})},this.handleInnerContainerMount=function(t){e.innerContainerEl=t,t&&e.props.takeFocus&&Object(f.defer)(u.takeFocus,t)},this.handleTab=function(t){Object(u.handleTab)(e.innerContainerEl,t)},this.handleRequestClose=function(t){e.props.open&&e.requestClose(t)},this.handleAnimationEnd=function(){e.setState({animating:!1})},this.renderLayer=function(){var t=e.props,o=t.animation,n=t.appearance,i=t.children,a=t.id,l=t.open,s=e.state,c=s.anchorPos,u=s.arrowStyle,h=s.outerContainerStyle,d=s.placement,b=e.state,m=b.maxHeight,y=b.maxWidth;\"none\"!==n&&(Object(f.isFinite)(m)&&(m-=20),Object(f.isFinite)(y)&&(y-=20));var g={anchorHeight:c?c.height:null,anchorWidth:c?c.width:null,placement:d,maxHeight:m,maxWidth:y},v=o?{opacity:Object(p.spring)(l?1:0,{stiffness:300,damping:40,precision:1})}:{opacity:1},w=\"none\"===n?F:D,x=\"light\"===n?N:I,O=\"light\"===n?z:B;return r.a.createElement(p.Motion,{defaultStyle:{opacity:o?0:1},style:v,onRest:e.handleAnimationEnd},function(t){var o=t.opacity;return r.a.createElement(_,{style:A({},h,{opacity:o}),innerRef:function(t){return e.outerContainer=t}},(l||e.state.animating)&&r.a.createElement(w,A({\"data-test\":\"popover\",innerRef:e.handleInnerContainerMount,tabIndex:-1,id:a,onKeyDown:e.props.retainFocus?e.handleTab:null},Object(f.omit)(e.props,Object(f.keys)(X.propTypes))),\"none\"===n&&i,\"none\"!==n&&r.a.createElement(x,{innerRef:function(t){return e.arrow=t},style:u}),\"none\"!==n&&r.a.createElement(O,null,Object(f.isFunction)(i)?i(g):i)),r.a.createElement(K,{innerRef:function(t){return e.windowSizeMeasurementEl=t}}))})}};t.default=X}});","extractedComments":[]}