{"code":"module.exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=441)}({0:function(e,t){e.exports=require(\"prop-types\")},16:function(e,t){e.exports=require(\"@splunk/react-ui/Menu\")},17:function(e,t){e.exports=require(\"@splunk/react-ui/ResultsMenu\")},19:function(e,t){e.exports=require(\"@splunk/react-ui/Popover\")},2:function(e,t){e.exports=require(\"react\")},20:function(e,t){e.exports=require(\"@splunk/ui-utils/filter\")},21:function(e,t){e.exports=require(\"@splunk/react-ui/Text\")},4:function(e,t){e.exports=require(\"lodash\")},441:function(e,t,n){\"use strict\";n.r(t);var o=n(2),r=n.n(o),a=n(0),i=n.n(a),l=n(4),c=n(20),u=n(8),s=n(5),p=n(6),d=n(17),f=n.n(d),v=n(19),h=n.n(v),b=n(21),y=n.n(b),g=n(16),O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},m=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function j(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var k=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=j(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o.handleClick=function(e){var t=o.props,n=t.disabled,r=t.onClick,a=t.value;n||r(e,{value:a})},j(o,n)}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o[\"PureComponent\"]),m(t,[{key:\"scrollIntoViewIfNeeded\",value:function(){this.c.scrollIntoViewIfNeeded()}},{key:\"render\",value:function(){var e=this,t=this.props,n=t.value,o=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(t,[\"value\"]);return r.a.createElement(g.Item,O({ref:function(t){return e.c=t},\"data-test\":\"option\",\"data-test-value\":n},o,{onClick:this.handleClick,role:\"option\",\"aria-selected\":!1}),n)}}]),t}();k.propTypes={active:i.a.bool,description:i.a.string,descriptionPosition:i.a.oneOf([\"right\",\"bottom\"]),disabled:i.a.bool,icon:i.a.node,matchRanges:i.a.arrayOf(i.a.shape({start:i.a.number.isRequired,end:i.a.number.isRequired})),onClick:i.a.func,truncate:i.a.bool,value:i.a.string.isRequired},k.defaultProps={active:!1,descriptionPosition:\"bottom\",disabled:!1,onClick:function(){},truncate:!1};var x=k;n.d(t,\"Option\",function(){return x}),n.d(t,\"Divider\",function(){return d.Divider}),n.d(t,\"Heading\",function(){return d.Heading});var I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},C=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var w=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);for(var a=arguments.length,i=Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];var d=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this,e].concat(i)));return d.handleInputMount=function(e){d.textInput=e,d.setState({anchor:e}),d.props.inputRef(e)},d.handleActiveOptionMount=function(e){e&&e.scrollIntoViewIfNeeded()},d.handleInputFocus=function(){var e;d.focusCalledInternally?d.focusCalledInternally=!1:d.open(),(e=d.props).onFocus.apply(e,arguments)},d.handleChange=function(e,t){var n=t.value,o=d.props.name;d.isControlled()?d.setState({activeIndex:0}):d.setState({value:n,activeIndex:0}),d.props.onChange(e,{value:n,name:o})},d.handleSelectOption=function(){d.handleChange.apply(d,arguments),d.focusCalledInternally=!0,d.focus(),d.close()},d.handleInputKeyDown=function(e){var t=d.state.activeIndex,n=d.availableOptionCount,o=d.activeValue;if(d.state.open)switch(Object(p.keycode)(e)){case\"enter\":o&&d.handleSelectOption(e,{value:o});break;case\"tab\":d.close();break;case\"down\":if(d.setState({activeIndex:Math.min(t+1,n-1)}),d.props.children&&d.props.onScrollBottom){var r=d.props.children.length-2;d.state.activeIndex===r&&d.props.onScrollBottom()}break;case\"up\":d.setState({activeIndex:Math.max(t-1,0)})}else!1===Object(p.addsCharacter)(e)&&\"enter\"!==Object(p.keycode)(e)&&\"backspace\"!==Object(p.keycode)(e)&&\"down\"!==Object(p.keycode)(e)&&\"up\"!==Object(p.keycode)(e)||d.open();d.props.onKeyDown(e)},d.handleInputClick=function(){d.state.open||d.props.disabled||d.open()},d.handleRequestClose=function(e){var t=e.event,n=e.reason;(\"offScreen\"===n||\"escapeKey\"===n||\"clickAway\"===n&&!function(e,t){var n=t.clientX,o=t.clientY,r=e.getBoundingClientRect(),a=r.top,i=r.left,l=r.bottom,c=r.right;return n>i&&n<c&&o>a&&o<l}(d.textInput,t))&&d.close()},d.handleScrollBottom=function(){d.state.open&&!d.state.isLoadingOptions&&d.props.onScrollBottom()},d.renderMenu=function(e){var t=e.anchorWidth,n=e.maxHeight,a=d.props,i=a.children,u=a.controlledFilter,s=a.isLoadingOptions,p=a.menuStyle,v=a.onScrollBottom,h=d.state.activeIndex,b=d.getValue(),y=o.Children.toArray(i),g=Object(l.some)(y,function(e){return e.props.value===b});!g&&b&&y.unshift(r.a.createElement(x,{key:\"currentInput\",value:b})),d.availableOptionCount=0,d.activeValue=void 0;var O=Object(c.stringToKeywords)(b);return d.options=(u?y:y.filter(function(e){return!Object(l.get)(e,[\"props\",\"value\"],!1)||Object(c.testPhrase)(e.props.value,O)})).map(function(e,t){if(!Object(l.has)(e.props,\"active\"))return e;var n=d.availableOptionCount===h;d.availableOptionCount+=1;var r=e.props.matchRanges,a=!u&&b&&(g||t>0)?Object(c.keywordLocations)(e.props.value,O):void 0;return n?(d.activeValue=e.props.value,Object(o.cloneElement)(e,{ref:d.handleActiveOptionMount,id:d.activeItemId,onClick:d.handleSelectOption,matchRanges:r||a,active:!0})):Object(o.cloneElement)(e,{onClick:d.handleSelectOption,matchRanges:r||a})}),r.a.createElement(f.a,I({style:Object(l.extend)({overflow:\"auto\",width:Math.max(t,200)},p),maxHeight:n,onScrollBottom:v?d.handleScrollBottom:void 0,isLoading:s},Object(l.pick)(d.props,\"className\",\"noOptionsMessage\",\"footerMessage\",\"animateLoading\",\"loadingMessage\")),d.options)},d.state={activeIndex:null,anchor:null,open:!1,value:e.defaultValue||\"\"},d.controlledExternally=Object(l.has)(e,\"value\"),d.popoverId=Object(u.createDOMID)(\"popover\"),d.activeItemId=Object(u.createDOMID)(\"active-item\"),d}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o[\"Component\"]),C(t,[{key:\"componentWillReceiveProps\",value:function(e){0}},{key:\"getValue\",value:function(){return this.isControlled()?this.props.value:this.state.value}},{key:\"focus\",value:function(){this.textInput.focus()}},{key:\"isControlled\",value:function(){return this.controlledExternally}},{key:\"open\",value:function(){this.setState({open:!0,activeIndex:0})}},{key:\"close\",value:function(){this.setState({open:!1})}},{key:\"render\",value:function(){var e=this.state,t=e.anchor,n=e.open,o=this.getValue();return r.a.createElement(y.a,I({canClear:!0,\"data-test\":\"combo-box\"},Object(l.omit)(this.props,\"animateLoading\",\"className\",\"controlledFilter\",\"isLoadingOptions\",\"loadingMessage\",\"menuStyle\",\"noOptionsMessage\",\"onScrollBottom\",\"footerMessage\",\"defaultValue\"),{\"data-test-popover-id\":this.popoverId,\"data-test-value\":o,\"data-test-open\":n&&!!t,onFocus:this.handleInputFocus,onClick:this.handleInputClick,onChange:this.handleChange,onKeyDown:this.handleInputKeyDown,inputRef:this.handleInputMount,role:\"combobox\",value:o,\"aria-activedescendant\":this.activeItemId,\"aria-expanded\":n,\"aria-haspopup\":!0,\"aria-controls\":n?this.popoverId:null}),r.a.createElement(h.a,{anchor:t,appearance:\"light\",autoCloseWhenOffScreen:!0,canCoverAnchor:!1,defaultPlacement:\"vertical\",id:this.popoverId,onRequestClose:this.handleRequestClose,open:n&&!!t,repositionMode:\"flip\"},this.renderMenu))}}]),t}();w.propTypes={animateLoading:i.a.bool,append:i.a.bool,children:i.a.node,controlledFilter:i.a.bool,defaultValue:i.a.string,describedBy:i.a.string,disabled:i.a.bool,elementRef:i.a.func,error:i.a.bool,footerMessage:i.a.node,inline:i.a.bool,inputRef:i.a.func,isLoadingOptions:i.a.bool,labelledBy:i.a.string,loadingMessage:i.a.node,menuStyle:i.a.object,name:i.a.string,noOptionsMessage:i.a.node,onChange:i.a.func,onFocus:i.a.func,onKeyDown:i.a.func,onScrollBottom:i.a.func,placeholder:i.a.string,prepend:i.a.bool,size:i.a.oneOf([\"small\",\"medium\",\"large\"]),value:i.a.string},w.defaultProps={animateLoading:!1,controlledFilter:!1,disabled:!1,error:!1,inline:!1,inputRef:function(){},isLoadingOptions:!1,menuStyle:{},onChange:function(){},onFocus:function(){},onKeyDown:function(){},placeholder:Object(s._)(\"Select...\"),size:\"medium\"},w.Option=x,w.Divider=d.Divider,w.Heading=d.Heading;t.default=w},5:function(e,t){e.exports=require(\"@splunk/ui-utils/i18n\")},6:function(e,t){e.exports=require(\"@splunk/ui-utils/keyboard\")},8:function(e,t){e.exports=require(\"@splunk/ui-utils/id\")}});","extractedComments":[]}